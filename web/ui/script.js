"use strict";var imageContainer=document.getElementById("image-container"),allImages=[];function setImages(e){allImages=e,document.getElementById("image-desc").innerText="Images found: "+e.length}function changeParam(e,t){eel.set_param(e,t)}function refreshImages(){eel.get_images()(setImages)}eel.get_images()(setImages);var RUNNING=!1,CANCEL=!1,TOTAL=0;function startConversion(){0!==allImages.length&&(RUNNING?(CANCEL=!0,document.getElementById("convert-btn").classList.add("disabled")):(RUNNING=!0,document.getElementById("convert-btn").classList.add("cancel"),document.getElementById("convert-btn").innerText="Cancel",document.getElementById("inputs-box").style.height="85vmin",document.getElementById("loading-bar").style.opacity="",document.getElementById("loading-bar").value="0",console.log(allImages),requestAnimationFrame((function(){convertImage(0)}))))}function reset(){RUNNING=CANCEL=!1,document.getElementById("convert-btn").innerText="Convert",document.getElementById("inputs-box").style.height="75vmin",document.getElementById("loading-bar").style.opacity=0,document.getElementById("loading-bar").value="0",document.getElementById("convert-btn").classList.remove("disabled"),TOTAL=0}function convertImage(e){var t=100/allImages.length||0;CANCEL?reset():eel.convert(allImages[e])((function(){TOTAL+=t,document.getElementById("loading-bar").value=TOTAL+"",e==allImages.length-1?reset():convertImage(e+1)}))}document.getElementById("max_res").value="2100",document.getElementById("max_res_text").innerText="None",document.getElementById("max_res").addEventListener("input",(function(e){document.getElementById("max_res_text").innerText="2100"===e.target.value?"None":e.target.value+"px",changeParam("max_res","2100"===e.target.value?"None":e.target.value)})),document.getElementById("compression").value=100,document.getElementById("compression_text").innerText="100% (None)",document.getElementById("compression").addEventListener("input",(function(e){var t=e.target.value+"%",n=parseInt(e.target.value);t+=n<15?" (Tiny)":n<25?" (Small)":n<50?" (Medium)":n<85?" (Regular)":n<100?" (Quality)":" (None)",document.getElementById("compression_text").innerText=t,changeParam("compression",e.target.value)})),document.getElementById("strip_exif").addEventListener("input",(function(e){changeParam("strip_exif",e.target.checked)})),document.getElementById("filetype").value="png",document.getElementById("filetype").addEventListener("change",(function(e){changeParam("filetype",e.target.value)})),document.getElementById("remove_bg").addEventListener("input",(function(e){changeParam("remove_bg",e.target.checked)})),document.getElementById("convert-btn").addEventListener("click",startConversion),document.getElementById("refresh-btn").addEventListener("click",refreshImages),document.getElementById("inputs-box").style.height="75vmin",document.getElementById("loading-bar").style.opacity=0;
//# sourceMappingURL=script.js.map
//# sourceMappingURL=script.js.map
